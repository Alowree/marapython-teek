---
date: 2025-06-12 10:15:13
title: Neovim é…ç½®
permalink: /pages/8cc6a0
categories:
  - Editor
  - Neovim
---

å½“å‰ä½¿ç”¨æœ€å¤šçš„ Neovim é…ç½®ï¼Œæ˜¯åŸºäº Josean Martinez çš„ YouTube è§†é¢‘ï¼Œä¸€æ­¥ä¸€æ­¥ï¼Œç…§è™ç”»çŒ«ï¼Œä¾è‘«èŠ¦ç”»ç“¢ï¼Œæ…¢æ…¢æ­å»ºèµ·æ¥çš„ã€‚åé¢åˆç»“åˆ Mr Jakob çš„ nvim-from-scrach ç³»åˆ—ï¼Œå€Ÿé‰´äº†å’Œä¼˜åŒ–äº†éƒ¨åˆ†é…ç½®æ–‡ä»¶ã€‚

<!-- more -->

## é…ç½®ç»“æ„

å› ä¸ºæ˜¯æœ€å¸¸ç”¨çš„é…ç½®ç‰ˆæœ¬ï¼Œæ‰€ä»¥é…ç½®æ–‡ä»¶æ”¾ç½®åœ¨ `~/AppData/Local/nvim/` å†…ï¼Œç›¸å½“äºæ˜¯é…ç½®æ–‡ä»¶çš„æ ¹ç›®å½•ã€‚æœ¬é…ç½®ä½¿ç”¨äº† lazy.nvim ä½œä¸ºæ’ä»¶ç®¡ç†å™¨ï¼Œé‡‡ç”¨äº†ç»“æ„åŒ–çš„é…ç½®æ–¹æ³•ã€‚ä»¥ä¸‹æ˜¯é…ç½®ç»“æ„ï¼š

```sh
C:\Users\Lenovo\AppData\Local\nvim
â”œâ”€â”€ init.lua
â”œâ”€â”€ lazy-lock.json
â”œâ”€â”€ lazyvim.json
â”œâ”€â”€ lua
|  â””â”€â”€ alowree
|     â”œâ”€â”€ core
|     |  â”œâ”€â”€ init.lua
|     |  â”œâ”€â”€ keymaps.lua
|     |  â””â”€â”€ options.lua
|     â”œâ”€â”€ lazy.lua
|     â””â”€â”€ plugins
|        â”œâ”€â”€ alpha-alpha.lua
|        â”œâ”€â”€ auto-session.lua
|        â”œâ”€â”€ blink-cmp.lua
|        â”œâ”€â”€ bufferline.lua
|        â”œâ”€â”€ bullets.lua
|        â”œâ”€â”€ colorscheme.lua
|        â”œâ”€â”€ comment.lua
|        â”œâ”€â”€ conform.lua
|        â”œâ”€â”€ dressing.lua
|        â”œâ”€â”€ fzflua.lua
|        â”œâ”€â”€ gitsigns.lua
|        â”œâ”€â”€ indent-blankline.lua
|        â”œâ”€â”€ init.lua
|        â”œâ”€â”€ lazygit.lua
|        â”œâ”€â”€ lsp.lua
|        â”œâ”€â”€ lualine.lua
|        â”œâ”€â”€ nvim-tree.lua
|        â”œâ”€â”€ pangu.lua
|        â”œâ”€â”€ sleuth-vim.lua
|        â”œâ”€â”€ surround.lua
|        â”œâ”€â”€ treesitter.lua
|        â””â”€â”€ which-key.lua
â””â”€â”€ spell
   â”œâ”€â”€ en.utf-8.add
   â””â”€â”€ en.utf-8.add.spl
```

1ã€`init.lua` æ˜¯ä¸»é…ç½®æ–‡ä»¶ï¼Œå¯¼å…¥äº†ä¸¤ç»„æ–‡ä»¶ï¼š

```lua
require("alowree.core")
require("alowree.lazy")
```

2ã€`alowree/core/init.lua` å¯¼å…¥äº† `keymaps.lua` å’Œ `options.lua` ä¸¤ä¸ªæ–‡ä»¶

3ã€`alowree/lazy.lua` åšäº†ä¸¤ä»¶äº‹æƒ…ï¼šåŠ è½½ `lazy` è‡ªå·±ï¼ŒåŠ è½½ `alowree.plugins` ä¸‹çš„æ‰€æœ‰æ–‡ä»¶

4ã€`alowree/plugins/init.lua`, å¼•å…¥è¿™ä¸¤ä¸ªæ’ä»¶ä½œä½•ç”¨é€”ï¼Ÿ

```lua
    return {
    "nvim-lua/plenary.nvim",          -- lua functions that many plugins use
    "christoomey/vim-tmux-navigator", -- tmux & split window navigation
                                      -- works for PowerShell on Windows too
    }
```

## æ’ä»¶ç®¡ç†

ä½¿ç”¨ lazy.nvim åšä¸ºæ’ä»¶ç®¡ç†å™¨ï¼Œç„¶åæ‰€æœ‰çš„æ’ä»¶æ–‡ä»¶éƒ½ä½¿ç”¨ Lua è¿›è¡Œé…ç½®ã€‚

[lazy.nvim](https://github.com/folke/lazy.nvim) is a modern plugin manager for Neovim.

æŒ‰ç…§ [lazy.nvim â€”â€” Installation](https://lazy.folke.io/installation) å®˜æ–¹æ–‡æ¡£è°ƒæ•´äº†ä¸€ä¸‹ `alowree/lazy.lua` å†…çš„é…ç½®ï¼Œå°† leader é”®çš„é…ç½®ä½ç½®ç”±åŸå…ˆçš„ `alowree/core/keymaps.lua` è½¬ç§»è‡³ `alowree/lazy.lua` å½“ä¸­ï¼Œç„¶åå¯¹è°ƒäºŒè€…åœ¨ä¸»é…ç½®æ–‡ä»¶ä¸­çš„å¯¼å…¥é¡ºåºï¼šä¿è¯ leader é”®å…ˆå®šä¹‰ï¼Œåä½¿ç”¨çš„åŸåˆ™ã€‚ä¹Ÿå°±æ˜¯åœ¨ `alowree/lazy.lua` ä¸­å®šä¹‰ leader é”®ï¼Œåœ¨ `alowree/core/options.lua` å’Œ `alowree/core/keymaps.lua` ä½¿ç”¨ã€‚

```lua
require("alowree.lazy")
require("alowree.core")
```

## ä½¿ç”¨ Lua é…ç½®

å…¨éƒ¨çš„é…ç½®ä½¿ç”¨ Lua è¯­è¨€ï¼Œæ‰€ä»¥æ–°æ‰‹éœ€è¦å­¦ä¹ ä¸€ç‚¹ç‚¹ Lua çš„ç¼–ç¨‹çŸ¥è¯†ã€‚

- [Lua-guide - Neovim docs](https://neovim.io/doc/user/lua-guide.html)
- [nvim-lua-guide](https://github.com/nanotee/nvim-lua-guide)

## å…³äº Lua

When configuring Neovim using Lua, do I need to install any Lua interpreter on my computer? Or Does Neovim ship with a built-in Lua related interpreter already?

Neovim has a built-in Lua interpreter (specifically LuaJIT, which is Lua 5.1-compatible with some 5.2 extensions). This means:

1. You don't need to install Lua separately for basic Neovim configuration.

   - The Lua runtime is embedded directly into Neovim.
   - Your `init.lua` and other Lua config files are executed by Neovim's built-in LuaJIT.

2. When external Lua is needed (rare cases):

   - If you use plugins or tools that call `lua` from the command line (e.g., `:!lua script.lua`), youâ€™ll need a system-wide Lua installation.
   - Some plugins may require newer Lua features (e.g., Lua 5.3+), but this is uncommon since most Neovim plugins target LuaJIT (5.1).

Key Notes:

- Neovimâ€™s Lua API (`vim.*`, `nvim_*`) is only available in the embedded Lua runtime.
- For `require` to work, ensure your Lua files are in Neovimâ€™s runtimepath (e.g., `~/.config/nvim/lua/` or `~/AppData/Local/nvim/lua/`).
- To check the Lua version Neovim uses, run `:lua print(_VERSION)` in Neovim (should output "Lua 5.1" or similar).

Summary:

- Default configs: No extra Lua install needed.
- Edge cases: Only install Lua system-wide if a plugin/tool explicitly requires it outside Neovimâ€™s runtime.

For most users, Neovimâ€™s built-in Lua is sufficient. ğŸš€
